<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="../assets/icon/favicon.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HowTo play | Blog</title>

    <!-- <link rel="stylesheet" href="../css/style.css"> -->
    <link rel="stylesheet" href="dashboards.css">
    <link rel="stylesheet" href="css/font/all.css">
    <script src="../js/funcoes.js"></script>
    <script src="../js/funcoes.js"></script>


    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- scripts do Chart.js -->
    <script type="text/javascript" src="https://www.chartjs.org/dist/2.8.0/Chart.min.js"></script>

</head>

<body>
    <!-- onload="validarSessao(), atualizarFeed()" -->
    <header>
        <div class="container1">
            <div class="menu">
                <center>
                    <ul>
                        <li>
                            <a href="dashboard.html">Blog</a>
                        </li>
                        <li>
                            <a href="market_place.html">Loja</a>
                        </li>
                        <li>
                            <input class="not" type="" name=""> <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                        <li>
                            <div class="btn-logout" onclick="limparSessao()">
                                <h3>pesquisar</h3>
                            </div>
                        </li>
                        <li>
                            <div class="btn-logout" onclick="limparSessao()">
                                <h3>Sair</h3>
                            </div>
                        </li>

                    </ul>
                </center>

            </div>
        </div>
    </header>
    <div class="banner">
        <div class="container"></div>
        <center><img src="logo.png" alt=""></center>
    </div><br><br>
    </div>
    <section class="box-captura">
        </div>
        <div class="container1">
            <div class="wrapper-captura">
                <div class="box-single-chamada">
                    <h3>Receba Aqui conteúdos exclusivos para seus estudos!</h3>
                </div>

                <div class="box-single-captura">
                    <button> Receba agora <i class="far fa-play-circle"></i></button>
                    <p>Seu e-mail 100% livre de span <i class="fas fa-arrow-right"></i></p>
                </div>
            </div>
        </div>
        <div class="clear"></div>
    </section>

    <section class="content">
        <article class="centraliza-container" id="bateria">
            <center>
                <h2 style="margin-top: 20px;">Bateria</h2>
            </center><br><br>
            <center><img src="./assets/imgs/bateria.jpg" alt=""></center><br>
            <p class="texto-esquerda"> A Bateria é um instrumento de percussão, logo, sua função é ditar o ritmo de uma
                música, o instrumento também é conhecido como "coração da banda" Alguns estudiosos defendem a relativa
                facilidade em aprender a tocar o instrumento, no entanto, alertam para o nível de dedicação, se possível
                diária, para o aperfeiçoamento<span id="reticencias">...</span></p><br><span id="mostrar">
                <p class="texto-esquerda">A bateria só ganhou a cara atual, com vários instrumentos tocados ao mesmo
                    tempo, no final do século 19, embora os homens das cavernas já tocassem tambores em rituais
                    sagrados. Há cerca de 8 mil anos nossos antepassados peludos já batucavam em bumbos feitos de
                    troncos de árvores cobertos com peles de animais quando
                    queriam pedir ou oferecer alguma coisa aos deuses – são dessa época os instrument ode percussão mais
                    antigos do mundo,
                    encontrados em escavações na região da Morávia, na República Tcheca. Pouco a pouco os instrumentos
                    foram se modernizando e as batucadas ganharam novas funções.
                    A ideia de ter domínio da coordenação motora e não necessariamente apenas o conhecimento das
                    notas musicais ou leitura das partituras, estimula as pessoas a optarem pela bateria quando decidem
                    investir
                    na música, seja por hobby ou de maneira profissional.</p><br>
                <br>
                <center>
                    <h3>Dicas</h3>
                </center>
                <p>-Em paralelo com as aulas teóricas é necessário treinar também o movimento do corpo. Primeiro na
                    mente, entendendo e assimilando o movimento (braços e perna) e depois realmente praticando. Noções
                    próprias de ritmo são fundamentais para um bom desempenho desta arte.

                    Antes de investir especificamente na técnica seria interessante treinar o ritmo e para isso não
                    precisa da bateria. Trabalhe a marcação fazendo o som com as duas mãos e contando o tempo. Sempre ao
                    dizer ou pensar “1” ou “3” bata seu pé direito (caso seja destro). É esse o movimento que irá
                    acionar o bumbo da bateria e determinar a marcação do som.

                    Nas bandas que costumamos ver por aí a quantidade de pratos e caixas é bastante grande, mas na
                    verdade uma bateria é composta por três partes básicas: chimbau (popularmente “prato”), caixa e
                    bumbo. E é exatamente o bumbo que determina
                    a função do pé na bateria.
                    É necessário haver uma coordenação motora harmoniosa para executar os movimentos de dois braços e
                    uma perna ao mesmo tempo.</p><br>

                <p>-Praticar é diferente de brincar, pois é desafiador e exige que você passe por barreiras para
                    experimentar um avanço. E, felizmente, essa experiência também pode ser obtida sem um kit de bateria
                    e ainda enquanto você estiver jogando seu kit de almofada.

                    Para fazer isso corretamente, porém, você precisa saber como segurar suas baquetas (não se preocupe,
                    é fácil):

                    Comece por ficar com as mãos ao lado do corpo e use a mão esquerda para colocar um dos palitos na
                    mão direita.
                    Em seguida, use a parte plana do polegar para pressionar o manche e enrole o resto dos dedos. Agora,
                    você pode repetir o processo de colocar a próxima baqueta em sua mão.
                    Enquanto segura as baquetas, você deve fazê-lo atrás do ponto de equilíbrio ou no meio do bastão.
                    Embora haja um punhado de métodos para usar seus bastões para tocar bateria, como iniciante,
                    você terá tempo de sobra para experimentar diferentes técnicas e determinar o que funciona melhor
                    para você!</p><br><br>

                <h4>Quer Aprender a Afinar uma bateria?</h4><br>
                <a href="./pdfs/BbliaBateria.pdf" download>Baixar PDF</a><br><br>
            </span>
            <button id="btn1" onclick="leiaMais()">Leia Mais</button>
        </article><br>
        <hr>
        <article>
            <center>
                <h2 style="margin-top: 20px;">Violão</h2>
            </center><br><br>
            <center><img src="./assets/imgs/violawn.jpg" alt=""></center><br>
            <p class="texto-direita">
                O violão é um instrumento de cordas, com uma caixa geralmente feita de madeira, que gera uma acústica
                facilitando a propagação do som. Em alguns países de língua
                espanhola ele é conhecido como guitarra. A história do violão nos remete há quase 2.000 A.C. Os atuais
                violonistas aceitam atualmente duas teorias: O violão é um instrumento derivado do alaúde árabe, levado
                pelos mulçumanos para a
                península Ibérica e adaptando-se muito bem as atividades da corte;
                o violão derivou-se da “Cítar a romana”, tendo seu uso expandindo com a dominação do império
                romano.<span id="reticencias1">...</span>
            </p><br><span id="mostrar1">

                <p>No Brasil temos a introdução da viola (instrumento de 10 ou 5 cordas duplas) trazida pelos
                    portugueses
                    durante a colonização do país. Por certo tempo ainda houve uma confusão
                    em relação aos termos viola /violão no país, hoje, porém a discrepância entre os dois instrumentos é
                    notória.

                    A utilização do violão é umas das mais diversificadas, podendo ser utilizado tanto na música
                    instrumental (orquestras), quanto em acompanhamento da voz (canções solo).
                    Por um período da história o violão foi difamado devido a ser instrumento preferido dos boêmios e
                    seresteiros, levando o título de “instrumento marginal”, “coisa de vagabundo”,
                    no entanto esse fato já foi superado.</p>
                <center>
                    <h3>Dicas</h3>
                </center>
                <p>-O primeiro passo para aprender a tocar violão é contar com seu próprio instrumento. Contudo,
                    escolher a
                    alternativa certa não é tão simples.
                    Existem diversas marcas e modelos nas mais variadas faixas de preço. Portanto, o que você deseja
                    tocar e
                    o seu orçamento inicial serão os principais fatores na hora de escolher seu violão.
                    Busque por lojas e vendedores de confiança, então, descubra qual modelo é o mais confortável para
                    você.
                    Existem opções de vários tamanhos, como folk, flat, clássico, infantis e diversos outros.
                    Se possível, vá até uma loja de música e teste vários para encontrar o equilíbrio entre o som que
                    você
                    gosta e o conforto que precisa.
                    Comprar instrumentos usados também é uma boa opção, contudo, essa é uma alternativa viável para quem
                    já
                    entende do assunto.
                    Afinal, existem detalhes que podem comprometer a qualidade do instrumento em questão.</p><br>
                <p>-A dor na ponta dos dedos da mão esquerda é algo comum em quem está começando a aprender como tocar
                    violão. Essa é uma dor que persistirá até que os dedos estejam calejados.

                    As cordas de aço geralmente são mais tensionadas, por isso podem machucar mais os dedos e causar um
                    pouco mais de desconforto. Apesar disso, seu som tende a ser mais estridente e elevado.

                    Já as cordas náilon são mais suaves e confortáveis, mas contam com um som mais fechado e um volume
                    menor.

                    Apesar do conforto ser um fator muito importante, também é essencial revelar seu gosto musical.
                    Escolha um instrumento que use as cordas para gerar sons parecidos com as músicas que você gosta.

                    Isso é muito importante para expressar seus resultados e manter a determinação para continuar
                    estudando.

                    Gêneros geralmente associados às cordas de aço são rock, sertanejo e gospel. Já as cordas de aço são
                    usadas em samba, música clássica, bossa nova e outros ritmos com foco no dedilhado.</p><br>
<h4>Aprenda os acordes naturais maiores e menores!</h4><br>
    <a href="./pdfs/basico_violao.pdf" download>Baixar PDF</a><br>
            </span><br>
            <button id="btn2" onclick="leiaMais1()">Leia Mais</button>

        </article>
    </section>

    <div class="footer">
        <div class="container">
            <center><h4>Todos os direitos reservados&copy; HowTo play 2022</h4></center>
            <h6></h6>
        </div>
    </div>
    </div>

    <!-- <div class="janela">
        <div class="header-left"> -->
    <!-- <h1>HowTo play</h1> -->

    <!-- <div class="hello">
                <h3>Olá, <span id="b_usuario">usuário</span>!</h3>
            </div>

            <div class="btn-nav-white">
                <a href="./cards.html">
                    <h3>Aquários</h3>
                </a>
            </div>

            <div class="btn-nav">

                <h3>Gráficos</h3>

            </div>

            <div class="btn-nav-white">
                <a href="./mural.html">
                    <h3>Mural de Avisos</h3>
                </a>
            </div>

            <div class="btn-logout" onclick="limparSessao()">
                <h3>Sair</h3>
            </div>

        </div>

        <div class="dash">
            <div class="btns-dash">
                O gráfico é chamado de acordo com o id (fk_aquario) do banco  -->
    <!-- <button class="btn-chart btn-pink" onclick="obterDadosGrafico(1)">Aquario 1</button>
                <button class="btn-chart btn-white" onclick="obterDadosGrafico(2)">Aquario 2</button>
                <button class="btn-chart btn-white" onclick="obterDadosGrafico(3)">Aquario 3</button>
                <button class="btn-chart btn-white" onclick="obterDadosGrafico(4)">Aquario 4</button>
            </div>
            <div>
                <h3 class="tituloGraficos">
                    <span id="tituloAquario">123</span>
                </h3>
            </div>
            <div class="graph">
                <canvas id="canvas_grafico"></canvas>
            </div>
        </div>
    </div> -->


</body>

</html>

<script>

    let proximaAtualizacao;
    function leiaMais() {
        var reticencias = document.getElementById("reticencias");
        var mostrar = document.getElementById("mostrar");
        var btn1 = document.getElementById("btn1");

        if (reticencias.style.display === "none") {
            reticencias.style.display = "inline"
            mostrar.style.display = "none"
            btn1.innerHTML = "Leia Mais"
        } else {
            reticencias.style.display = "none"
            mostrar.style.display = "inline"
            btn1.innerHTML = "Leia Menos"
        }
    }
    function leiaMais1() {
        var reticencias = document.getElementById("reticencias1");
        var mostrar = document.getElementById("mostrar1");
        var btn2 = document.getElementById("btn2");

        if (reticencias.style.display === "none") {
            reticencias.style.display = "inline"
            mostrar.style.display = "none"
            btn2.innerHTML = "Leia Mais"
        } else {
            reticencias.style.display = "none"
            mostrar.style.display = "inline"
            btn2.innerHTML = "Leia Menos"
        }
    }
    window.onload = obterDadosGrafico(1);

    b_usuario.innerHTML = sessionStorage.NOME_USUARIO;

    verificar_autenticacao();

    function alterarTitulo(idAquario) {
        var tituloAquario = document.getElementById("tituloAquario")
        tituloAquario.innerHTML = "Últimas medidas de Temperatura e Umidade do <span style='color: #e6005a'>Aquário " + idAquario + "</span>"
    }

    // O gráfico é construído com três funções:
    // 1. obterDadosGrafico -> Traz dados do Banco de Dados para montar o gráfico da primeira vez
    // 2. plotarGrafico -> Monta o gráfico com os dados trazidos e exibe em tela
    // 3. atualizarGrafico -> Atualiza o gráfico, trazendo novamente dados do Banco

    // Esta função *obterDadosGrafico* busca os últimos dados inseridos em tabela de medidas.
    // para, quando carregar o gráfico da primeira vez, já trazer com vários dados.
    // A função *obterDadosGrafico* também invoca a função *plotarGrafico*

    //     Se quiser alterar a busca, ajuste as regras de negócio em src/controllers
    //     Para ajustar o "select", ajuste o comando sql em src/models
    function obterDadosGrafico(idAquario) {
        alterarTitulo(idAquario)

        if (proximaAtualizacao != undefined) {
            clearTimeout(proximaAtualizacao);
        }

        fetch(`/medidas/ultimas/${idAquario}`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
                    resposta.reverse();

                    plotarGrafico(resposta, idAquario);
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
            });
    }

    // Esta função *plotarGrafico* usa os dados capturados na função anterior para criar o gráfico
    // Configura o gráfico (cores, tipo, etc), materializa-o na página e, 
    // A função *plotarGrafico* também invoca a função *atualizarGrafico*
    function plotarGrafico(resposta, idAquario) {
        console.log('iniciando plotagem do gráfico...');

        var dados = {
            labels: [],
            datasets: [
                {
                    yAxisID: 'y-umidade',
                    label: 'Umidade',
                    borderColor: '#32B9CD',
                    backgroundColor: '#32b9cd8f',
                    fill: true,
                    data: []
                },
                {
                    yAxisID: 'y-temperatura',
                    label: 'Temperatura',
                    borderColor: '#FFF',
                    backgroundColor: '#32b9cd8f',
                    fill: true,
                    data: []
                }
            ]
        };

        for (i = 0; i < resposta.length; i++) {
            var registro = resposta[i];
            dados.labels.push(registro.momento_grafico);
            dados.datasets[0].data.push(registro.umidade);
            dados.datasets[1].data.push(registro.temperatura);
        }

        console.log(JSON.stringify(dados));

        var ctx = canvas_grafico.getContext('2d');
        window.grafico_linha = Chart.Line(ctx, {
            data: dados,
            options: {
                responsive: true,
                animation: { duration: 500 },
                hoverMode: 'index',
                stacked: false,
                title: {
                    display: false,
                    text: 'Dados capturados'
                },
                scales: {
                    yAxes: [{
                        type: 'linear',
                        display: true,
                        position: 'left',
                        id: 'y-temperatura',
                        ticks: {
                            beginAtZero: true,
                            max: 100,
                            min: 0
                        }
                    }, {
                        type: 'linear',
                        display: false,
                        position: 'right',
                        id: 'y-umidade',
                        ticks: {
                            beginAtZero: true,
                            max: 100,
                            min: 0
                        },

                        gridLines: {
                            drawOnChartArea: false,
                        },
                    }],
                }
            }
        });

        setTimeout(() => atualizarGrafico(idAquario, dados), 2000);
    }


    // Esta função *atualizarGrafico* atualiza o gráfico que foi renderizado na página,
    // buscando a última medida inserida em tabela contendo as capturas, 

    //     Se quiser alterar a busca, ajuste as regras de negócio em src/controllers
    //     Para ajustar o "select", ajuste o comando sql em src/models
    function atualizarGrafico(idAquario, dados) {

        fetch(`/medidas/tempo-real/${idAquario}`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (novoRegistro) {

                    console.log(`Dados recebidos: ${JSON.stringify(novoRegistro)}`);
                    console.log(`Dados atuais do gráfico: ${dados}`);

                    // tirando e colocando valores no gráfico
                    dados.labels.shift(); // apagar o primeiro
                    dados.labels.push(novoRegistro[0].momento_grafico); // incluir um novo momento

                    dados.datasets[0].data.shift();  // apagar o primeiro de umidade
                    dados.datasets[0].data.push(novoRegistro[0].umidade); // incluir uma nova medida de umidade

                    dados.datasets[1].data.shift();  // apagar o primeiro de temperatura
                    dados.datasets[1].data.push(novoRegistro[0].temperatura); // incluir uma nova medida de temperatura

                    window.grafico_linha.update();

                    // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
                    proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados), 2000);
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
                // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
                proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados), 2000);
            }
        })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
            });

    }
</script>